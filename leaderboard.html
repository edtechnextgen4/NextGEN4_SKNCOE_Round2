<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Leaderboard â€” Peerify</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b0f14;
  --glass:#ffffff08;
  --border:#ffffff12;
  --neon1:#6a1b9a;
  --neon2:#2193b0;
}
*{ box-sizing:border-box }
body{
  margin:0;
  background:var(--bg);
  color:#e9eef3;
  font-family:'Poppins',sans-serif;
}

/* HEADER */
header{
  padding:16px 20px;
  background:linear-gradient(90deg,var(--neon1),var(--neon2));
  color:white;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.topnav {
  display:flex;
  justify-content: center;
  gap:14px;
  padding:20px;
}

.topnav a {
  padding: 10px 22px;
  border-radius: 12px;
  text-decoration: none;
  color: white;
  border: 1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.05);
  transition: 0.25s;
  font-weight: 500;
}

.topnav a:hover {
  background: rgba(255,255,255,0.15);
  transform: translateY(-3px);
}

/* Active */
.topnav a.active {
  background:rgba(0,153,255,0.35);
color: white;  
border-color:rgba(0,153,255,0.7);
}
/* ---- NAV BUTTON ANIMATION ---- */
.topnav a {
  position: relative;
  overflow: hidden;
  transition: 0.3s;
}

/* Hover motion */
.topnav a:hover {
  transform: translateY(-4px) scale(1.05);
}

/* Glow border animation */
.topnav a::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 12px;
  padding: 2px;
  background: linear-gradient(90deg, #6a1b9a, #2193b0);
  -webkit-mask: 
    linear-gradient(#fff 0 0) content-box, 
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  opacity: 0;
  transition: 0.3s;
}

/* Hover glow visible */
.topnav a:hover::before {
  opacity: 1;
}

/* Active page glowing */
.topnav a.active::before {
  opacity: 1;
}


.topnav a {
  position: relative;
  overflow: hidden;
}

.topnav a:hover::after {
  content: "";
  position: absolute;
  width: 140%;
  height: 140%;
  left: -20%;
  top: -20%;
  pointer-events: none;
  background: radial-gradient(circle, rgba(255,255,255,0.25) 10%, transparent 60%);
  transform: scale(0);
  animation: ripple 0.6s ease-out;
}

@keyframes ripple {
  to {
    transform: scale(1.2);
    opacity: 0;
  }
}

label{
  display:block;
  margin-top:12px;
  font-weight:600;
}
/* PAGE CONTAINER */
.container{
  max-width:900px;
  margin:40px auto;
  padding:20px;
}

/* TABLE */
.table-box{
  background:var(--glass);
  border:1px solid var(--border);
  border-radius:12px;
  overflow:hidden;
  box-shadow:0 16px 40px rgba(2,6,23,0.6);
}

table{
  width:100%;
  border-collapse:collapse;
  color:white;
}

thead tr{
  background:linear-gradient(90deg,var(--neon1),var(--neon2));
  font-weight:600;
  text-align:left;
}

th,td{
  padding:16px;
  border-bottom:1px solid rgba(255,255,255,0.08);
}

tr:nth-child(even){
  background:rgba(255,255,255,0.03);
}
</style>
</head>
<body>

<header>
  <div style="display:flex;align-items:center;gap:12px;">
  <div style="display:flex;flex-direction:column;">
      <div style="font-weight:700">Peerify</div>
      <div style="font-size:12px;color:rgba(255,255,255,0.9)">Leaderboard</div>
    </div>   <nav class="topnav">
    <a href="login.html">Login</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="submit.html">Submit</a>
    <a href="review.html">Review</a>
    <a href="profile.html">Profile</a>
    <a href="leaderboard.html">Leaderboard</a>
  </nav>
</header>

<div class="container">
  <h2 style="margin-bottom:14px;">Global Leaderboard</h2>

  <div class="table-box">
    <table>
      <thead>
        <tr>
          <th>Rank</th>
          <th>Name</th>
          <th>Points</th>
          <th>Badge</th>
        </tr>
      </thead>
      <tbody id="leaderboardBody">
        <!-- Filled by JS -->
      </tbody>
    </table>
  </div>
</div>

<script>
/* Load users from localStorage */
function getUsers(){
  return JSON.parse(localStorage.getItem("hv_users") || "{}");
}

/* Determine badge */
function getBadge(pts){
  return pts >= 40 ? "ðŸ¥‡ Gold"
       : pts >= 20 ? "ðŸ¥ˆ Silver"
       : pts > 0   ? "ðŸ¥‰ Bronze"
       : "None";
}

/* Render leaderboard */
function loadLeaderboard(){
  const users = getUsers();
  const rows = Object.entries(users)
      .map(([name, data]) => ({
        name,
        points: data.points || 0
      }))
      .sort((a,b) => b.points - a.points);

  const tbody = document.getElementById("leaderboardBody");
  tbody.innerHTML = "";

  rows.forEach((u, i) => {
    tbody.innerHTML += `
      <tr>
        <td>${i+1}</td>
        <td>${u.name}</td>
        <td>${u.points}</td>
        <td>${getBadge(u.points)}</td>
      </tr>
    `;
  });
}

loadLeaderboard();

/* Set active nav highlight */
const page = location.pathname.split("/").pop();
document.querySelectorAll(".topnav a").forEach(a=>{
  if(a.getAttribute("href") === page){
    a.classList.add("active");
  }
});
</script>

</body>
</html>
